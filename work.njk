---
layout: layouts/base.njk
title: Work — Good and Bad
---

{% block head %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@400&family=Inter:wght@400&family=IBM+Plex+Mono:wght@400&display=swap" rel="stylesheet">
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: #000;
        color: #fff;
        font-family: 'Inter', sans-serif;
        line-height: 1.5;
    }

    /* Control bar */
    .controls {
        padding: 4vh var(--margin-x, 8vw) 2vh;
        display: flex;
        flex-wrap: wrap;
        gap: 1.5em;
        align-items: center;
        font-size: clamp(0.7rem, 1.2vw, 0.85rem);
        color: #666;
    }

    .control {
        display: flex;
        align-items: center;
        gap: 0.4em;
    }

    .control label {
        text-transform: lowercase;
    }

    .control select {
        background: transparent;
        border: none;
        color: #fff;
        font-family: inherit;
        font-size: inherit;
        cursor: pointer;
        padding: 0.2em 0;
        border-bottom: 1px solid #333;
    }

    .control select:hover {
        border-bottom-color: #666;
    }

    .control select:focus {
        outline: none;
        border-bottom-color: #fff;
    }

    .control select option {
        background: #000;
        color: #fff;
    }

    /* Preview area */
    .preview {
        padding: 4vh var(--margin-x, 8vw) 8vh;
        min-height: 70vh;
    }

    /* VARIABLE: Margin */
    .margin-none { --margin-x: 0; }
    .margin-minimal { --margin-x: clamp(0.5rem, 1vw, 1rem); }
    .margin-tight { --margin-x: clamp(1rem, 2vw, 2rem); }
    .margin-medium { --margin-x: clamp(1.5rem, 4vw, 4rem); }
    .margin-wide { --margin-x: clamp(2rem, 8vw, 8rem); }

    /* Work list base styles */
    .work-list {
        list-style: none;
    }

    .work-item {
        transition: opacity 0.2s ease, margin 0.2s ease, font-size 0.2s ease;
    }

    .work-list:has(a:hover) .work-item {
        opacity: 0.3;
    }

    .work-list:has(a:hover) .work-item:hover {
        opacity: 1;
    }

    .project-name a {
        text-decoration: none;
        transition: opacity 0.2s ease;
    }

    .separator {
        color: #444;
    }

    .meta {
        color: #444;
    }

    /* VARIABLE: Font Family */
    .font-inter { font-family: 'Inter', sans-serif; }
    .font-helvetica { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; }
    .font-cormorant { font-family: 'Cormorant', serif; }
    .font-mono { font-family: 'IBM Plex Mono', monospace; }

    /* VARIABLE: Vertical Spacing */
    .spacing-tight .work-item { margin-bottom: 1.5vh; }
    .spacing-medium .work-item { margin-bottom: 2.5vh; }
    .spacing-loose .work-item { margin-bottom: 4vh; }

    /* VARIABLE: Separator Type */
    .sep-comma .separator::after { content: ','; }
    .sep-comma .separator { margin-right: 0.5em; }

    .sep-slash .separator::after { content: '/'; }
    .sep-slash .separator { margin-left: 0.5em; margin-right: 0.5em; }

    .sep-dash .separator::after { content: '—'; }
    .sep-dash .separator { margin-left: 0.5em; margin-right: 0.5em; }

    /* Right-aligned: title left, metadata right */
    .sep-right .work-item {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 4vw;
        align-items: baseline;
    }
    .sep-right .separator { display: none; }
    .sep-right .meta { text-align: right; }

    /* Tab-aligned: true multi-column grid */
    .sep-tab.work-list {
        display: grid;
        grid-template-columns: 1fr auto auto auto;
        gap: 2vw;
        row-gap: 0;
    }
    .sep-tab .work-item {
        display: contents;
    }
    .sep-tab .separator { display: none; }
    .sep-tab .meta { display: none; }
    .sep-tab .meta-col {
        color: #444;
        text-align: right;
    }

    /* VARIABLE: Link Color */
    .link-classic .project-name a { color: #0000EE; }
    .link-blue .project-name a { color: #4A90D9; }
    .link-light .project-name a { color: #7AB8F5; }
    .link-modern .project-name a { color: #0066CC; }
    .link-white .project-name a { color: #fff; }

    /* VARIABLE: Underline */
    .underline-on .project-name a { text-decoration: underline; }
    .underline-off .project-name a { text-decoration: none; }

    /* VARIABLE: Text Scale */
    .scale-s .work-item { font-size: clamp(1rem, 2vw, 1.5rem); }
    .scale-m .work-item { font-size: clamp(1.25rem, 3vw, 2rem); }
    .scale-l .work-item { font-size: clamp(1.5rem, 4vw, 3rem); }
    .scale-xl .work-item { font-size: clamp(2rem, 5vw, 4rem); }
</style>
{% endblock %}

<div class="controls">
    <div class="control">
        <label for="font">font:</label>
        <select id="font">
            <option value="inter">Inter</option>
            <option value="helvetica">Helvetica</option>
            <option value="cormorant">Cormorant</option>
            <option value="mono">Mono</option>
        </select>
    </div>
    <div class="control">
        <label for="color">color:</label>
        <select id="color">
            <option value="classic">Classic</option>
            <option value="blue">Blue</option>
            <option value="light">Light</option>
            <option value="modern">Modern</option>
            <option value="white">White</option>
        </select>
    </div>
    <div class="control">
        <label for="underline">underline:</label>
        <select id="underline">
            <option value="on">On</option>
            <option value="off">Off</option>
        </select>
    </div>
    <div class="control">
        <label for="scale">scale:</label>
        <select id="scale">
            <option value="s">S</option>
            <option value="m">M</option>
            <option value="l">L</option>
            <option value="xl">XL</option>
        </select>
    </div>
    <div class="control">
        <label for="separator">separator:</label>
        <select id="separator">
            <option value="comma">Comma</option>
            <option value="slash">Slash</option>
            <option value="dash">Em Dash</option>
            <option value="right">Right</option>
            <option value="tab">Tab</option>
        </select>
    </div>
    <div class="control">
        <label for="margin">margin:</label>
        <select id="margin">
            <option value="none">None</option>
            <option value="minimal">Minimal</option>
            <option value="tight">Tight</option>
            <option value="medium">Medium</option>
            <option value="wide">Wide</option>
        </select>
    </div>
    <div class="control">
        <label for="spacing">spacing:</label>
        <select id="spacing">
            <option value="tight">Tight</option>
            <option value="medium">Medium</option>
            <option value="loose">Loose</option>
        </select>
    </div>
    <div class="control">
        <label for="metadata">metadata:</label>
        <select id="metadata">
            <option value="year">Year</option>
            <option value="year-collab">Year+Collab</option>
            <option value="full">Full</option>
        </select>
    </div>
</div>

<div class="preview">
    <ul id="work-list" class="work-list"></ul>
</div>

{% block scripts %}
<script>
    // Work items data
    const workItems = [
        { title: "Archive Grid", year: "2025", collaborator: "", type: "Digital", hasLink: true, link: "/archive/" },
        { title: "REPLICA MAN", year: "2025", collaborator: "", type: "Print", hasLink: true, link: "#" },
        { title: "Vogue Italia", year: "2024", collaborator: "Annie Leibovitz", type: "Editorial", hasLink: true, link: "#" },
        { title: "Paris Fashion Week SS25", year: "2024", collaborator: "Ivan Cheng", type: "Runway", hasLink: false },
        { title: "Studio XYZ", year: "2023", collaborator: "", type: "Collection", hasLink: true, link: "#" },
        { title: "W Magazine", year: "2023", collaborator: "", type: "Editorial", hasLink: true, link: "#" }
    ];

    // Default state
    const defaults = {
        font: 'inter',
        color: 'classic',
        underline: 'on',
        scale: 'm',
        separator: 'comma',
        margin: 'medium',
        spacing: 'medium',
        metadata: 'full'
    };

    // Current state
    let state = { ...defaults };

    // DOM elements
    const workList = document.getElementById('work-list');
    const controls = {
        font: document.getElementById('font'),
        color: document.getElementById('color'),
        underline: document.getElementById('underline'),
        scale: document.getElementById('scale'),
        separator: document.getElementById('separator'),
        margin: document.getElementById('margin'),
        spacing: document.getElementById('spacing'),
        metadata: document.getElementById('metadata')
    };

    // Format metadata based on level (reversed for tab layout)
    function formatMeta(item, level, reverse = false) {
        const parts = [item.year];
        if (level === 'year-collab' && item.collaborator) {
            parts.push(item.collaborator);
        }
        if (level === 'full') {
            if (item.collaborator) parts.push(item.collaborator);
            if (item.type) parts.push(item.type);
        }
        if (reverse) parts.reverse();
        return parts.join(', ');
    }

    // Generate work list HTML
    function renderList() {
        const isTab = state.separator === 'tab';
        const isRight = state.separator === 'right';

        workList.innerHTML = workItems.map(item => {
            const title = item.hasLink ? `<a href="${item.link}">${item.title}</a>` : item.title;

            if (isTab) {
                // Multi-column layout: separate spans for each metadata field
                const year = `<span class="meta-col">${item.year}</span>`;
                const collab = `<span class="meta-col">${item.collaborator || ''}</span>`;
                const type = `<span class="meta-col">${item.type || ''}</span>`;
                return `<li class="work-item"><span class="project-name">${title}</span>${year}${collab}${type}</li>`;
            } else {
                // Inline layout with separator
                const meta = formatMeta(item, state.metadata, isRight);
                return `<li class="work-item"><span class="project-name">${title}</span><span class="separator"></span><span class="meta">${meta}</span></li>`;
            }
        }).join('');
    }

    // Apply classes to work list and body based on state
    function applyClasses() {
        workList.className = `work-list font-${state.font} link-${state.color} underline-${state.underline} scale-${state.scale} sep-${state.separator} spacing-${state.spacing}`;
        // Margin class on body so CSS variable applies to both controls and preview
        document.body.className = document.body.className.replace(/margin-\w+/g, '').trim() + ` margin-${state.margin}`;
    }

    // Update URL parameters
    function updateURL() {
        const params = new URLSearchParams();
        for (const [key, value] of Object.entries(state)) {
            if (value !== defaults[key]) {
                params.set(key, value);
            }
        }
        const newURL = params.toString() ? `?${params.toString()}` : window.location.pathname;
        history.replaceState(null, '', newURL);
    }

    // localStorage key
    const STORAGE_KEY = 'workPageState';

    // Save state to localStorage
    function saveToStorage() {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        } catch (e) {
            // localStorage unavailable or full - silently ignore
        }
    }

    // Load state from localStorage
    function loadFromStorage() {
        try {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const parsed = JSON.parse(saved);
                for (const key of Object.keys(state)) {
                    if (parsed[key] && controls[key].querySelector(`option[value="${parsed[key]}"]`)) {
                        state[key] = parsed[key];
                    }
                }
            }
        } catch (e) {
            // localStorage unavailable or corrupted - silently ignore
        }
    }

    // Parse URL parameters on load (overrides localStorage)
    function parseURL() {
        const params = new URLSearchParams(window.location.search);
        for (const key of Object.keys(state)) {
            const value = params.get(key);
            if (value && controls[key].querySelector(`option[value="${value}"]`)) {
                state[key] = value;
            }
        }
    }

    // Sync controls to state
    function syncControls() {
        for (const [key, el] of Object.entries(controls)) {
            el.value = state[key];
        }
    }

    // Handle control changes
    function handleChange(key, value) {
        state[key] = value;
        if (key === 'metadata' || key === 'separator') {
            renderList();
        }
        applyClasses();
        updateURL();
        saveToStorage();
    }

    // Initialize
    function init() {
        loadFromStorage();  // Load saved preferences
        parseURL();         // URL params override localStorage
        syncControls();
        renderList();
        applyClasses();

        // Add event listeners
        for (const [key, el] of Object.entries(controls)) {
            el.addEventListener('change', (e) => handleChange(key, e.target.value));
        }
    }

    init();
</script>
{% endblock %}
